{"version":3,"sources":["components/ButtonCircle.js","components/Nav.js","components/InputFile.js","components/Form.js","components/ListHeading.js","components/ListItem.js","assets/clarifai.js","components/ListContainer.js","components/LoadingIcon.js","components/Template.js","components/FaceBox.js","components/Image.js","components/ErrorBox.js","components/Presenter.js","assets/particles-options.js","App.js","index.js"],"names":["ButtonCircle","props","className","onClick","handleClick","href","text","Nav","InputFile","Fragment","type","name","accept","id","onChange","handleFileChange","htmlFor","Form","placeholder","handleInputChange","onKeyPress","handleEnterPressOnInput","value","handleSubmit","ListHeading","heading","ListItem","probability","listFromFaceData","faceData","Object","entries","map","item","index","split","join","listItems","entrie","concepts","length","convertProbability","key","createListItems","result","Math","round","clarifaiAPI","Clarifai","App","apiKey","ListContainer","list","clarifaiRegions","activeBox","data","face","LoadingIcon","Template","children","templateClass","Array","isArray","FaceBox","box","isActive","setActive","styleProp","top","left","bottom","right","style","Image","calculateBoxLocations","e","rectangles","region_info","bounding_box","image","target","imageWidth","Number","width","imageHeight","height","rectangle","i","top_row","left_col","bottom_row","right_col","String","setState","boxes","state","faceBoxes","this","setActiveBox","onLoad","src","imgSrc","alt","React","Component","getErrorMessage","errorType","errorMessage","ErrorBox","message","Presenter","output","presenterState","options","event","input","request","body","file","files","reader","FileReader","readAsDataURL","onload","base64","replace","requestClarifai","requestBody","models","predict","then","response","outputs","hasOwnProperty","hasDetectedFace","regions","getRegions","reject","console","log","params","ParticlesOptions","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.cafbed3d.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nfunction ButtonCircle(props) {\r\n\t\treturn (\r\n\t\t\t<div \r\n\t\t\t\tclassName=\"button button-circle input__button\" \r\n\t\t\t\tonClick={props.handleClick}\r\n\t\t\t\t>\r\n    \t\t<div className=\"button-circle__circle\"></div>\r\n  \t\t \t<a href=\"#\">{props.text}</a>\r\n  \t\t</div>\r\n\t\t);\r\n}\r\n\r\nexport default ButtonCircle;","import React from 'react';\r\nimport ButtonCircle from './ButtonCircle';\r\n\r\nfunction Nav() {\r\n\treturn (\r\n\t\t<nav className=\"nav wrapper\">\r\n\t\t\t<p className=\"logo flip-horizontal-bottom\">Face Detector</p>\r\n\t\t\t<ButtonCircle text={'sign up'} />\r\n\t\t</nav>\r\n\t)\r\n}\r\n\r\nexport default Nav;","import React from 'react';\r\n\r\nfunction InputFile(props) {\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t<input \r\n\t\t\t\ttype=\"file\" \r\n\t\t\t\tname=\"file\" \r\n\t\t\t\taccept=\"image/*\"\r\n\t\t\t\tid=\"file\" \r\n\t\t\t\tclassName=\"input-file\" \r\n\t\t\t\tonChange={props.handleFileChange}\r\n\t\t\t/>\r\n\t\t\t<label htmlFor=\"file\" className=\"input-file__label\">\r\n\t\t\t\t<div className=\"input-file__circle\"></div>\r\n\t\t\t\t<span>Upload photo</span>\r\n\t\t\t</label>\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n}\r\n\r\nexport default InputFile;","import React from 'react';\r\nimport ButtonCircle from './ButtonCircle';\r\nimport InputFile from './InputFile';\r\n\r\nfunction Form (props) {\r\n\treturn (\r\n\t\t<section className=\"form wrapper\">\r\n\r\n\t\t\t<input \r\n\t\t\t\ttype=\"text\" \r\n\t\t\t\tplaceholder=\"Enter an URL\" \r\n\t\t\t\tclassName=\"form__input\"\r\n\t\t\t\tonChange={props.handleInputChange}\r\n\t\t\t\tonKeyPress={props.handleEnterPressOnInput}\r\n\t\t\t\tvalue={props.value}\r\n\t\t\t/>\r\n\t\t\t<InputFile handleFileChange={props.handleFileChange}/>\r\n\t\t\t<ButtonCircle text={'detect!'} handleClick={props.handleSubmit} />\r\n\r\n\t\t</section>\r\n\t)\r\n}\r\n\r\nexport default Form;","import React from 'react';\r\n\r\nfunction ListHeading(props) {\r\n\t\treturn (\r\n\t\t\t<li className=\"list__heading\">\r\n\t\t\t\t<h4>{props.heading}</h4>\r\n\t\t\t\t<span>probability</span>\r\n\t\t\t</li>\r\n\t\t);\r\n}\r\n\r\nexport default ListHeading;","import React from 'react';\r\n\r\nfunction ListItem(props) {\r\n\t\treturn (\r\n\t\t\t<li className=\"list__item\">\r\n\t\t\t\t<span>{props.name}</span>\r\n\t\t\t\t<span>{props.probability}</span>\r\n\t\t\t</li>\r\n\t\t);\r\n}\r\n\r\nexport default ListItem;","import Clarifai from 'clarifai';\r\nimport React from 'react';\r\nimport ListHeading from '../components/ListHeading';\r\nimport ListItem from '../components/ListItem';\r\n\r\nconst clarifaiAPI = new Clarifai.App({ \r\n\tapiKey: 'a3e509d16c2048238325574215e3192b'\r\n});\r\n\r\n// Regions is an array that contains data (concepts, rectangle position)\r\n// about all faces caught by clarifai API.\r\n// Response is received from ClarifaiAPI predict() method.\r\nexport function getRegions(response) {\r\n\tconst data = response.outputs[0].data;\r\n\treturn data.regions;\r\n}\r\n\r\nexport function hasDetectedFace(response) {\r\n\tconst data = response.outputs[0].data;\r\n\r\n\tif (data.hasOwnProperty('regions')) {\r\n\t\treturn true;\r\n\t}\r\n\r\n\treturn false;\r\n}\r\n\r\nexport function getRectangles(regions) {\r\n\tconst rectangles = regions.map((item) => item.region_info.bounding_box);\r\n\treturn rectangles;\r\n}\r\n\r\n\r\n// faceData is an object that contains data about unique face caught by clarifai API\r\n// It can be found in regioins[i].data.face\r\nexport function listFromFaceData(faceData) {\r\n\tconst list = Object.entries(faceData)\r\n\t\t\t.map((item, index) => {\r\n\t\t\t\tconst heading = getHeading(item);\r\n\t\t\t\tconst listItems = createListItems(item);\r\n\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<ul key={index}>\r\n\t\t\t\t\t\t<ListHeading heading={heading} />\r\n\t\t\t\t\t\t{listItems}\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t);\r\n\treturn list;\r\n\r\n\tfunction getHeading(entrie) {\r\n\t\tlet heading = entrie[0].split('_').join(' ');\r\n\t\treturn heading;\r\n\t}\r\n\r\n\tfunction createListItems(entrie) {\r\n\t\tlet concepts = entrie[1].concepts;\r\n\r\n\t\tif (concepts.length > 5) {\r\n\t\t\tconcepts.length = 5;\r\n\t\t}\r\n\r\n\t\tlet listItems = concepts.map(({name, value, id}) => (\r\n\t\t\t<ListItem name={name} probability={convertProbability(value)} key={id} />\r\n\t\t));\r\n\t\treturn listItems;\r\n\t}\r\n\r\n\tfunction convertProbability(probability) {\r\n\t\tlet result = Math.round(probability * 100);\r\n\t\tif (result === 0) {\r\n\t\t\tresult = '<1'\r\n\t\t}\r\n\t\tresult += '%';\r\n\t\treturn result\r\n\t}\r\n}\r\n\r\n\r\n\r\nexport default clarifaiAPI;\r\n","import React from 'react';\r\nimport {listFromFaceData} from '../assets/clarifai.js';\r\n\r\nfunction ListContainer(props) {\r\n\tconst faceData = props.clarifaiRegions[props.activeBox].data.face;\r\n\tconst list = listFromFaceData(faceData);\r\n\r\n\treturn (\r\n\t\t<div className=\"list__container\">\r\n\t\t\t<h2>result</h2>\r\n\t\t\t{list}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default ListContainer;","import React from 'react';\r\n\r\nfunction LoadingIcon() {\r\n\t\treturn (\r\n\t\t\t<div className=\"loader\">\r\n\t\t\t\t<div></div>\r\n\t\t\t\t<div></div>\r\n\t\t\t\t<div></div>\r\n\t\t\t\t<div></div>\r\n\t\t\t</div>\r\n\t\t);\r\n}\r\n\r\nexport default LoadingIcon;","import React from 'react';\r\n\r\nfunction Template(props) {\r\n\tconst { children } = props;\r\n\tconst templateClass = ( Array.isArray(children) ? \r\n\t'template-around wrapper' : 'template-center wrapper');\r\n\treturn (\r\n\t\t<main className={templateClass}>\r\n\t\t\t{children}\r\n\t\t</main>\r\n\t);\r\n}\r\nexport default Template;","import React from 'react';\r\n\r\nfunction FaceBox({box, id, isActive, setActive}) {\r\n\tconst className = isActive ? \"FaceBox FaceBox-active\" : \"FaceBox\";\r\n\tconst styleProp = {\r\n\t\ttop: box.top,\r\n\t\tleft: box.left,\r\n\t\tbottom: box.bottom,\r\n\t\tright: box.right,\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={className} style={styleProp} onClick={() => {setActive(id)}}>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default FaceBox;","import React from 'react';\r\nimport '../assets/animations.css';\r\nimport {getRectangles} from '../assets/clarifai';\r\nimport FaceBox from './FaceBox';\r\n\r\nclass Image extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tboxes: []\r\n\t\t};\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst faceBoxes = this.state.boxes.map((item) => {\r\n\t\t\treturn (\r\n\t\t\t\t<FaceBox \r\n\t\t\t\tbox={item} \r\n\t\t\t\tkey={item.id}\r\n\t\t\t\tid={item.id}\r\n\t\t\t\tisActive={(this.props.activeBox === item.id) ? true : false}\r\n\t\t\t\tsetActive={this.props.setActiveBox}\r\n\t\t\t/>\r\n\t\t\t)\r\n\t\t});\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"img__container centered swing-in-top-fwd\">\r\n\t\t\t\t<div className=\"relative\">\r\n\t\t\t\t<img id=\"img\" onLoad={this.calculateBoxLocations} src={this.props.imgSrc} alt=\"yours\" className=\"img\" />\r\n\t\t\t\t{faceBoxes}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tcalculateBoxLocations = (e) => {\r\n\t\tconst rectangles = getRectangles(this.props.clarifaiRegions);\r\n\t\tconst image = e.target;\r\n\t\tconst imageWidth = Number(image.width); \r\n\t\tconst imageHeight = Number(image.height);\r\n\r\n\t\tlet result = rectangles.map( (rectangle, i) => ({\r\n\t\t\ttop: imageHeight * rectangle.top_row, \r\n\t\t\tleft: imageWidth * rectangle.left_col,\r\n\t\t\tbottom: imageHeight - imageHeight * rectangle.bottom_row,\r\n\t\t\tright: imageWidth - imageWidth * rectangle.right_col,\r\n\t\t\tid: String(i)\r\n\t\t}));\r\n\r\n\t\tthis.setState({\r\n\t\t\tboxes: result\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport default Image;","import React from 'react';\r\nimport '../assets/animations.css';\r\n\r\nconst getErrorMessage = (errorType) => {\r\n\tlet errorMessage = null;\r\n\r\n\tswitch (errorType) {\r\n\t\tcase 'BAD_REQUEST':\r\n\t\terrorMessage = `Looks like we can't find your photo! \r\n\t\tMake sure that provided URL isn't privite and you spell it right.`;\r\n\t\tbreak;\r\n\t\tcase 'NO_FACE_DETECTED':\r\n\t\terrorMessage = `Sorry, we haven't detected any faces!\r\n\t\tBut you can try with another photo!`;\r\n\t\tbreak;\r\n\t\tdefault:\r\n\t\terrorMessage = `Oops! Something went wrong. We're looking for a solution!`\r\n\t}\r\n\r\n\treturn errorMessage;\r\n}\r\n\r\nfunction ErrorBox(props) {\r\n\tconst {type} = props;\r\n\tconst message = getErrorMessage(type);\r\n\r\n\treturn (\r\n\t\t<div className=\"ErrorBox slide-in-fwd-center\">\r\n\t\t\t<h3>Error!</h3>\r\n\t\t\t<p>{message}</p>\r\n\t\t</div>\r\n\t);\r\n}\r\nexport default ErrorBox;","import React from 'react';\r\nimport ListContainer from './ListContainer';\r\nimport LoadingIcon from './LoadingIcon';\r\nimport Template from './Template';\r\nimport Image from './Image';\r\nimport ErrorBox from './ErrorBox';\r\n\r\n\r\nfunction Presenter(props) {\r\n\t\tlet output = null;\r\n\t\tswitch (props.presenterState) {\r\n\t\t\tcase 'default': \r\n\t\t\t\toutput = null;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'loading': \r\n\t\t\t\toutput = <LoadingIcon />;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'loaded': \r\n\t\t\t\toutput = [<Image \r\n\t\t\t\t\t\t\t\t\t\tkey=\"img\" \r\n\t\t\t\t\t\t\t\t\t\timgSrc={props.imgSrc} \r\n\t\t\t\t\t\t\t\t\t\tclarifaiRegions={props.clarifaiRegions}\r\n\t\t\t\t\t\t\t\t\t\tactiveBox={props.activeBox}\r\n\t\t\t\t\t\t\t\t\t\tsetActiveBox={props.setActiveBox}\r\n\t\t\t\t\t\t\t\t\t/>,\r\n\t\t\t\t\t\t\t\t\t<ListContainer \r\n\t\t\t\t\t\t\t\t\t\tkey=\"list\"\r\n\t\t\t\t\t\t\t\t\t\tactiveBox={props.activeBox}\r\n\t\t\t\t\t\t\t\t\t\tclarifaiRegions={props.clarifaiRegions} \r\n\t\t\t\t\t\t\t\t\t/>]\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'error': \r\n\t\t\t\toutput = <ErrorBox type={props.errorType}/>\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<Template>\r\n\t\t\t\t{output}\r\n\t\t\t</Template>\r\n\t\t)\r\n}\r\n\r\nexport default Presenter;","const options = {\r\n\t\"particles\": {\r\n\t    \"number\": {\r\n\t        \"value\": 160,\r\n\t        \"density\": {\r\n\t            \"enable\": false\r\n\t        }\r\n\t    },\r\n\t    \"size\": {\r\n\t        \"value\": 10,\r\n\t        \"random\": true\r\n\t    },\r\n\t    \"move\": {\r\n\t        \"direction\": \"bottom\",\r\n\t        \"out_mode\": \"out\"\r\n\t    },\r\n\t    \"line_linked\": {\r\n\t        \"enable\": false\r\n\t    }\r\n\t},\r\n\t\"interactivity\": {\r\n\t    \"events\": {\r\n\t        \"onclick\": {\r\n\t            \"enable\": true,\r\n\t            \"mode\": \"remove\"\r\n\t        }\r\n\t    },\r\n\t    \"modes\": {\r\n\t        \"remove\": {\r\n\t            \"particles_nb\": 10\r\n\t        }\r\n\t    }\r\n\t}\r\n}\r\n\r\nexport default options;","import React from 'react';\nimport Nav from './components/Nav';\nimport Form from './components/Form';\nimport Presenter from './components/Presenter';\nimport Particles from 'react-particles-js';\nimport ParticlesOptions from './assets/particles-options';\nimport clarifaiAPI, {getRegions, hasDetectedFace} from './assets/clarifai';\n\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      input: '',\n      imgSrc: '',\n      request: null,\n      presenterState: 'default',\n      clarifaiRegions: null,\n      activeBox: null,\n      errorType: null\n    }\n  }\n\n  render() {\n    return (\n      <React.Fragment>\n      <Nav />\n      <Form \n        value={this.state.input} \n        handleInputChange={this.handleInputChange}\n        handleEnterPressOnInput={this.handleEnterPressOnInput}\n        handleFileChange={this.handleFileChange}\n        handleSubmit={this.handleSubmit}\n      />\n      <Presenter \n        imgSrc={this.state.imgSrc}\n        presenterState={this.state.presenterState}  \n        clarifaiRegions={this.state.clarifaiRegions}\n        setActiveBox={this.setActiveBox}\n        activeBox={this.state.activeBox}\n        errorType={this.state.errorType}\n      />\n\n      <Particles className=\"particles\" params={ParticlesOptions} />\n      </React.Fragment>\n    );\n  }\n\n  handleInputChange = (event) => {\n    const value = event.target.value;\n    this.setState({ \n      input: value,\n      request: {body: value, src: value}\n    })\n  }\n\n  handleFileChange = (event) => {\n    const file = event.target.files[0];\n    if (!file) {\n      this.setState({\n        input: '',\n        request: null\n      })\n      return;\n    }\n    let reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onload = () => {\n      let base64 = reader.result.replace(/^data:.+;base64,/, '');\n      this.setState({\n        input: file.name,\n        request: {body: base64, src: reader.result}\n      });\n      this.handleSubmit();\n    }\n  }\n\n  handleSubmit = () => {\n    if (!this.state.input) return;\n    this.setState( (state) => ({\n      imgSrc: state.request.src, \n      presenterState: 'loading'\n    }));\n    this.requestClarifai(this.state.request.body);\n  }\n\n  requestClarifai = (requestBody) => {\n    clarifaiAPI.models\n    .predict(\n      \"c0c0ac362b03416da06ab3fa36fb58e3\", \n      requestBody\n    ).then( \n      (response) => {\n        if ( hasDetectedFace(response) ) {\n          const regions = getRegions(response);\n\n          this.setState({\n            presenterState: 'loaded',\n            clarifaiRegions: regions,\n            errorType: null,\n            activeBox: \"0\"\n          });\n        } else {\n          this.setState({\n            presenterState: 'error',\n            errorType: 'NO_FACE_DETECTED'\n          });\n        } \n      },\n      (reject) => {\n        console.log(reject);\n        this.setState({\n          presenterState: 'error',\n          errorType: 'BAD_REQUEST'\n        });\n      }\n    );\n  }\n\n\n  handleEnterPressOnInput = (event) => {\n    if (event.key === 'Enter') {\n      this.handleSubmit();\n    }\n  }\n\n  setActiveBox = (id) => {\n    if (this.state.activeBox !== id) {\n      this.setState({activeBox: id});\n    }\n  }\n\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './normalize.css'\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}